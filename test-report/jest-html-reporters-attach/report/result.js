window.jest_html_reporters_callback__({"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":15,"numPassedTests":144,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":15,"numTotalTests":144,"startTime":1764179996721,"success":false,"testResults":[{"numFailingTests":0,"numPassingTests":16,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180018306,"runtime":21499,"slow":true,"start":1764179996807},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\payment.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Payment Tests","POST /api/v1/payments/initiate"],"duration":1274,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/initiate should initiate mobile money payment or handle missing endpoint","status":"passed","title":"should initiate mobile money payment or handle missing endpoint"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/initiate"],"duration":940,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/initiate should initiate cash payment or handle missing endpoint","status":"passed","title":"should initiate cash payment or handle missing endpoint"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/initiate"],"duration":1027,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/initiate should validate payment amount or handle gracefully","status":"passed","title":"should validate payment amount or handle gracefully"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/initiate"],"duration":1005,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/initiate should require authentication or handle gracefully","status":"passed","title":"should require authentication or handle gracefully"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/initiate"],"duration":1046,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/initiate should validate student exists or handle gracefully","status":"passed","title":"should validate student exists or handle gracefully"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/history"],"duration":1188,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/history should get payment history for parent or handle missing endpoint","status":"passed","title":"should get payment history for parent or handle missing endpoint"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/history"],"duration":1305,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/history should require authentication or handle gracefully","status":"passed","title":"should require authentication or handle gracefully"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/status/:studentId"],"duration":1281,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/status/:studentId should get payment status for student or handle missing endpoint","status":"passed","title":"should get payment status for student or handle missing endpoint"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/status/:studentId"],"duration":1392,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/status/:studentId should not allow access to other students or handle gracefully","status":"passed","title":"should not allow access to other students or handle gracefully"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/overdue (Admin)"],"duration":1180,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/overdue (Admin) should get overdue payments or handle missing endpoint","status":"passed","title":"should get overdue payments or handle missing endpoint"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/overdue (Admin)"],"duration":1203,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/overdue (Admin) should require admin role or handle gracefully","status":"passed","title":"should require admin role or handle gracefully"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/school/stats (Admin)"],"duration":1237,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/school/stats (Admin) should get payment statistics or handle missing endpoint","status":"passed","title":"should get payment statistics or handle missing endpoint"},{"ancestorTitles":["Payment Tests","GET /api/v1/payments/school/stats (Admin)"],"duration":1134,"failureMessages":[],"fullName":"Payment Tests GET /api/v1/payments/school/stats (Admin) should require admin role or handle gracefully","status":"passed","title":"should require admin role or handle gracefully"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/webhook/mobile-money"],"duration":1354,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/webhook/mobile-money should process successful payment webhook or handle missing endpoint","status":"passed","title":"should process successful payment webhook or handle missing endpoint"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/webhook/mobile-money"],"duration":1394,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/webhook/mobile-money should process failed payment webhook or handle gracefully","status":"passed","title":"should process failed payment webhook or handle gracefully"},{"ancestorTitles":["Payment Tests","POST /api/v1/payments/webhook/mobile-money"],"duration":1327,"failureMessages":[],"fullName":"Payment Tests POST /api/v1/payments/webhook/mobile-money should return 404 for non-existent transaction or handle gracefully","status":"passed","title":"should return 404 for non-existent transaction or handle gracefully"}]},{"numFailingTests":0,"numPassingTests":11,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180032512,"runtime":14037,"slow":true,"start":1764180018475},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\statistics.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/student/:studentId"],"duration":1310,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/student/:studentId should get student statistics or handle missing endpoint","status":"passed","title":"should get student statistics or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/student/:studentId"],"duration":1169,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/student/:studentId should calculate correct averages or handle gracefully","status":"passed","title":"should calculate correct averages or handle gracefully"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/class/:classId"],"duration":1326,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/class/:classId should get class statistics or handle missing endpoint","status":"passed","title":"should get class statistics or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/class/:classId"],"duration":1091,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/class/:classId should include student rankings or handle gracefully","status":"passed","title":"should include student rankings or handle gracefully"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/school/:schoolId"],"duration":1137,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/school/:schoolId should get school-wide statistics or handle missing endpoint","status":"passed","title":"should get school-wide statistics or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/school/:schoolId"],"duration":1403,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/school/:schoolId should calculate school average or handle gracefully","status":"passed","title":"should calculate school average or handle gracefully"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/subject/:subjectId"],"duration":1123,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/subject/:subjectId should get subject statistics or handle missing endpoint","status":"passed","title":"should get subject statistics or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/performance/trends"],"duration":1186,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/performance/trends should get performance trends or handle missing endpoint","status":"passed","title":"should get performance trends or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/performance/trends"],"duration":1038,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/performance/trends should require school parameter or handle gracefully","status":"passed","title":"should require school parameter or handle gracefully"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/ranking/class/:classId"],"duration":1136,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/ranking/class/:classId should get class ranking or handle missing endpoint","status":"passed","title":"should get class ranking or handle missing endpoint"},{"ancestorTitles":["Statistics Tests","GET /api/v1/statistics/ranking/class/:classId"],"duration":1078,"failureMessages":[],"fullName":"Statistics Tests GET /api/v1/statistics/ranking/class/:classId should order students by average or handle gracefully","status":"passed","title":"should order students by average or handle gracefully"}]},{"numFailingTests":0,"numPassingTests":10,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180043115,"runtime":10587,"slow":true,"start":1764180032528},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\bulletin.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Bulletin Generation Tests","POST /api/v1/bulletins/generate"],"duration":1112,"failureMessages":[],"fullName":"Bulletin Generation Tests POST /api/v1/bulletins/generate should generate bulletin for student or handle missing endpoint gracefully","status":"passed","title":"should generate bulletin for student or handle missing endpoint gracefully"},{"ancestorTitles":["Bulletin Generation Tests","POST /api/v1/bulletins/generate"],"duration":859,"failureMessages":[],"fullName":"Bulletin Generation Tests POST /api/v1/bulletins/generate should calculate correct averages or handle gracefully","status":"passed","title":"should calculate correct averages or handle gracefully"},{"ancestorTitles":["Bulletin Generation Tests","POST /api/v1/bulletins/generate"],"duration":829,"failureMessages":[],"fullName":"Bulletin Generation Tests POST /api/v1/bulletins/generate should require student ID or handle gracefully","status":"passed","title":"should require student ID or handle gracefully"},{"ancestorTitles":["Bulletin Generation Tests","GET /api/v1/bulletins/student/:studentId"],"duration":1013,"failureMessages":[],"fullName":"Bulletin Generation Tests GET /api/v1/bulletins/student/:studentId should get bulletins for student or handle missing endpoint","status":"passed","title":"should get bulletins for student or handle missing endpoint"},{"ancestorTitles":["Bulletin Generation Tests","GET /api/v1/bulletins/student/:studentId"],"duration":988,"failureMessages":[],"fullName":"Bulletin Generation Tests GET /api/v1/bulletins/student/:studentId should filter bulletins by academic year or handle gracefully","status":"passed","title":"should filter bulletins by academic year or handle gracefully"},{"ancestorTitles":["Bulletin Generation Tests","GET /api/v1/bulletins/:id"],"duration":938,"failureMessages":[],"fullName":"Bulletin Generation Tests GET /api/v1/bulletins/:id should get bulletin by ID or handle missing endpoint","status":"passed","title":"should get bulletin by ID or handle missing endpoint"},{"ancestorTitles":["Bulletin Generation Tests","GET /api/v1/bulletins/:id"],"duration":1020,"failureMessages":[],"fullName":"Bulletin Generation Tests GET /api/v1/bulletins/:id should return 404 for non-existent bulletin or handle gracefully","status":"passed","title":"should return 404 for non-existent bulletin or handle gracefully"},{"ancestorTitles":["Bulletin Generation Tests","POST /api/v1/bulletins/:id/approve"],"duration":1097,"failureMessages":[],"fullName":"Bulletin Generation Tests POST /api/v1/bulletins/:id/approve should approve bulletin or handle missing endpoint","status":"passed","title":"should approve bulletin or handle missing endpoint"},{"ancestorTitles":["Bulletin Generation Tests","GET /api/v1/bulletins/class/:classId"],"duration":1092,"failureMessages":[],"fullName":"Bulletin Generation Tests GET /api/v1/bulletins/class/:classId should get bulletins for entire class or handle missing endpoint","status":"passed","title":"should get bulletins for entire class or handle missing endpoint"},{"ancestorTitles":["Bulletin Generation Tests","POST /api/v1/bulletins/:id/download"],"duration":975,"failureMessages":[],"fullName":"Bulletin Generation Tests POST /api/v1/bulletins/:id/download should generate PDF download or handle missing endpoint","status":"passed","title":"should generate PDF download or handle missing endpoint"}]},{"numFailingTests":0,"numPassingTests":17,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180051196,"runtime":8064,"slow":true,"start":1764180043132},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\auth.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/register"],"duration":128,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/register should NOT allow admin registration through normal registration","status":"passed","title":"should NOT allow admin registration through normal registration"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/register"],"duration":454,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/register should register a new parent user successfully (pending approval when no school)","status":"passed","title":"should register a new parent user successfully (pending approval when no school)"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/register"],"duration":419,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/register should register a new teacher user (pending approval when no school)","status":"passed","title":"should register a new teacher user (pending approval when no school)"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/register"],"duration":410,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/register should register a new student user (pending approval when no school)","status":"passed","title":"should register a new student user (pending approval when no school)"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/register"],"duration":446,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/register should register a director and create school successfully with unique school name","status":"passed","title":"should register a director and create school successfully with unique school name"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/login"],"duration":980,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/login should login with valid credentials for approved user","status":"passed","title":"should login with valid credentials for approved user"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/login"],"duration":948,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/login should fail login for pending approval user","status":"passed","title":"should fail login for pending approval user"},{"ancestorTitles":["Auth API Tests","POST /api/v1/auth/login"],"duration":42,"failureMessages":[],"fullName":"Auth API Tests POST /api/v1/auth/login should fail with invalid credentials","status":"passed","title":"should fail with invalid credentials"},{"ancestorTitles":["Auth API Tests","GET /api/v1/auth/me"],"duration":635,"failureMessages":[],"fullName":"Auth API Tests GET /api/v1/auth/me should get current user profile with valid token for approved user","status":"passed","title":"should get current user profile with valid token for approved user"},{"ancestorTitles":["Auth API Tests","GET /api/v1/auth/me"],"duration":22,"failureMessages":[],"fullName":"Auth API Tests GET /api/v1/auth/me should fail without valid token","status":"passed","title":"should fail without valid token"},{"ancestorTitles":["Auth API Tests","GET /api/v1/auth/me"],"duration":21,"failureMessages":[],"fullName":"Auth API Tests GET /api/v1/auth/me should fail with expired token","status":"passed","title":"should fail with expired token"},{"ancestorTitles":["Auth API Tests","Admin Setup Endpoint"],"duration":13,"failureMessages":[],"fullName":"Auth API Tests Admin Setup Endpoint should create first admin via admin setup endpoint","status":"passed","title":"should create first admin via admin setup endpoint"},{"ancestorTitles":["Auth API Tests","Validation tests"],"duration":20,"failureMessages":[],"fullName":"Auth API Tests Validation tests should validate required fields","status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth API Tests","Validation tests"],"duration":406,"failureMessages":[],"fullName":"Auth API Tests Validation tests should validate email format","status":"passed","title":"should validate email format"},{"ancestorTitles":["Auth API Tests","Validation tests"],"duration":474,"failureMessages":[],"fullName":"Auth API Tests Validation tests should prevent duplicate email registration","status":"passed","title":"should prevent duplicate email registration"},{"ancestorTitles":["Auth API Tests","Password and Profile Updates"],"duration":1376,"failureMessages":[],"fullName":"Auth API Tests Password and Profile Updates should change password successfully for approved user","status":"passed","title":"should change password successfully for approved user"},{"ancestorTitles":["Auth API Tests","Password and Profile Updates"],"duration":652,"failureMessages":[],"fullName":"Auth API Tests Password and Profile Updates should update profile successfully for approved user","status":"passed","title":"should update profile successfully for approved user"}]},{"numFailingTests":0,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180060575,"runtime":9366,"slow":true,"start":1764180051209},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\students.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Student Management Tests","POST /api/v1/students"],"duration":955,"failureMessages":[],"fullName":"Student Management Tests POST /api/v1/students should create a new student or handle missing endpoint gracefully","status":"passed","title":"should create a new student or handle missing endpoint gracefully"},{"ancestorTitles":["Student Management Tests","POST /api/v1/students"],"duration":781,"failureMessages":[],"fullName":"Student Management Tests POST /api/v1/students should handle duplicate student ID prevention","status":"passed","title":"should handle duplicate student ID prevention"},{"ancestorTitles":["Student Management Tests","POST /api/v1/students"],"duration":659,"failureMessages":[],"fullName":"Student Management Tests POST /api/v1/students should validate required fields","status":"passed","title":"should validate required fields"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students"],"duration":579,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students should retrieve students list","status":"passed","title":"should retrieve students list"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students"],"duration":537,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students should filter students by class","status":"passed","title":"should filter students by class"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students"],"duration":564,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students should search students by name","status":"passed","title":"should search students by name"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students/:id"],"duration":715,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students/:id should retrieve student by ID","status":"passed","title":"should retrieve student by ID"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students/:id"],"duration":673,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students/:id should handle non-existent students","status":"passed","title":"should handle non-existent students"},{"ancestorTitles":["Student Management Tests","PATCH /api/v1/students/:id"],"duration":623,"failureMessages":[],"fullName":"Student Management Tests PATCH /api/v1/students/:id should update student information","status":"passed","title":"should update student information"},{"ancestorTitles":["Student Management Tests","PATCH /api/v1/students/:id"],"duration":629,"failureMessages":[],"fullName":"Student Management Tests PATCH /api/v1/students/:id should handle student ID update restrictions","status":"passed","title":"should handle student ID update restrictions"},{"ancestorTitles":["Student Management Tests","DELETE /api/v1/students/:id"],"duration":671,"failureMessages":[],"fullName":"Student Management Tests DELETE /api/v1/students/:id should delete students","status":"passed","title":"should delete students"},{"ancestorTitles":["Student Management Tests","DELETE /api/v1/students/:id"],"duration":657,"failureMessages":[],"fullName":"Student Management Tests DELETE /api/v1/students/:id should handle deletion of non-existent students","status":"passed","title":"should handle deletion of non-existent students"},{"ancestorTitles":["Student Management Tests","GET /api/v1/students/class/:classId"],"duration":779,"failureMessages":[],"fullName":"Student Management Tests GET /api/v1/students/class/:classId should retrieve students by class","status":"passed","title":"should retrieve students by class"}]},{"numFailingTests":0,"numPassingTests":10,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180064126,"runtime":3533,"slow":false,"start":1764180060593},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\pdf.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["PDF Generation API Tests","Basic PDF Endpoint Tests"],"duration":45,"failureMessages":[],"fullName":"PDF Generation API Tests Basic PDF Endpoint Tests PDF endpoints should require authentication","status":"passed","title":"PDF endpoints should require authentication"},{"ancestorTitles":["PDF Generation API Tests","Basic PDF Endpoint Tests"],"duration":24,"failureMessages":[],"fullName":"PDF Generation API Tests Basic PDF Endpoint Tests Health check should work","status":"passed","title":"Health check should work"},{"ancestorTitles":["PDF Generation API Tests","PDF Generation Functionality"],"duration":38,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Generation Functionality POST /api/v1/pdf/generate/bulletin - Should generate student bulletin PDF","status":"passed","title":"POST /api/v1/pdf/generate/bulletin - Should generate student bulletin PDF"},{"ancestorTitles":["PDF Generation API Tests","PDF Generation Functionality"],"duration":35,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Generation Functionality POST /api/v1/pdf/generate/certificate - Should generate student certificate","status":"passed","title":"POST /api/v1/pdf/generate/certificate - Should generate student certificate"},{"ancestorTitles":["PDF Generation API Tests","PDF Generation Functionality"],"duration":33,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Generation Functionality POST /api/v1/pdf/generate/report - Should generate class report PDF","status":"passed","title":"POST /api/v1/pdf/generate/report - Should generate class report PDF"},{"ancestorTitles":["PDF Generation API Tests","PDF Error Handling"],"duration":32,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Error Handling Should handle missing required fields","status":"passed","title":"Should handle missing required fields"},{"ancestorTitles":["PDF Generation API Tests","PDF Error Handling"],"duration":36,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Error Handling Should handle invalid PDF download requests","status":"passed","title":"Should handle invalid PDF download requests"},{"ancestorTitles":["PDF Generation API Tests","PDF Authorization"],"duration":1024,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Authorization Should restrict PDF access to authorized roles","status":"passed","title":"Should restrict PDF access to authorized roles"},{"ancestorTitles":["PDF Generation API Tests","PDF Data Validation"],"duration":1,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Data Validation Should calculate averages correctly","status":"passed","title":"Should calculate averages correctly"},{"ancestorTitles":["PDF Generation API Tests","PDF Data Validation"],"duration":1,"failureMessages":[],"fullName":"PDF Generation API Tests PDF Data Validation Should determine correct mentions","status":"passed","title":"Should determine correct mentions"}]},{"numFailingTests":0,"numPassingTests":6,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180071412,"runtime":7269,"slow":true,"start":1764180064143},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\integration.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Integration Tests - Complete Workflows","Complete School Setup and Grade Workflow"],"duration":2261,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Complete School Setup and Grade Workflow should complete full workflow from school setup to bulletin generation or handle gracefully","status":"passed","title":"should complete full workflow from school setup to bulletin generation or handle gracefully"},{"ancestorTitles":["Integration Tests - Complete Workflows","Multi-Trimester Workflow"],"duration":1020,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Multi-Trimester Workflow should handle grades and statistics across multiple trimesters or handle gracefully","status":"passed","title":"should handle grades and statistics across multiple trimesters or handle gracefully"},{"ancestorTitles":["Integration Tests - Complete Workflows","Bulk Operations Workflow"],"duration":921,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Bulk Operations Workflow should handle bulk grade entry and bulletin generation or handle gracefully","status":"passed","title":"should handle bulk grade entry and bulletin generation or handle gracefully"},{"ancestorTitles":["Integration Tests - Complete Workflows","Error Recovery Workflow"],"duration":756,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Error Recovery Workflow should handle grade update after initial entry or handle gracefully","status":"passed","title":"should handle grade update after initial entry or handle gracefully"},{"ancestorTitles":["Integration Tests - Complete Workflows","Error Recovery Workflow"],"duration":765,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Error Recovery Workflow should handle deletion and recreation of grades or handle gracefully","status":"passed","title":"should handle deletion and recreation of grades or handle gracefully"},{"ancestorTitles":["Integration Tests - Complete Workflows","Payment Verification Workflow"],"duration":657,"failureMessages":[],"fullName":"Integration Tests - Complete Workflows Payment Verification Workflow should complete payment flow with webhook verification or handle gracefully","status":"passed","title":"should complete payment flow with webhook verification or handle gracefully"}]},{"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180077674,"runtime":6252,"slow":true,"start":1764180071422},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\grades.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Grade Management Tests","POST /api/v1/grades"],"duration":923,"failureMessages":[],"fullName":"Grade Management Tests POST /api/v1/grades should create a new grade","status":"passed","title":"should create a new grade"},{"ancestorTitles":["Grade Management Tests","POST /api/v1/grades"],"duration":811,"failureMessages":[],"fullName":"Grade Management Tests POST /api/v1/grades should validate note between 0 and 20","status":"passed","title":"should validate note between 0 and 20"},{"ancestorTitles":["Grade Management Tests","POST /api/v1/grades"],"duration":746,"failureMessages":[],"fullName":"Grade Management Tests POST /api/v1/grades should require authentication","status":"passed","title":"should require authentication"},{"ancestorTitles":["Grade Management Tests","PATCH /api/v1/grades/:id"],"duration":717,"failureMessages":[],"fullName":"Grade Management Tests PATCH /api/v1/grades/:id should update grade information","status":"passed","title":"should update grade information"},{"ancestorTitles":["Grade Management Tests","DELETE /api/v1/grades/:id"],"duration":1008,"failureMessages":[],"fullName":"Grade Management Tests DELETE /api/v1/grades/:id should delete grade","status":"passed","title":"should delete grade"},{"ancestorTitles":["Grade Management Tests","GET /api/v1/grades/student/:studentId/trimester/:trimester"],"duration":736,"failureMessages":[],"fullName":"Grade Management Tests GET /api/v1/grades/student/:studentId/trimester/:trimester should retrieve student grades","status":"passed","title":"should retrieve student grades"},{"ancestorTitles":["Grade Management Tests","GET /api/v1/grades/class/:classId/subject/:subjectId/trimester/:trimester"],"duration":691,"failureMessages":[],"fullName":"Grade Management Tests GET /api/v1/grades/class/:classId/subject/:subjectId/trimester/:trimester should retrieve class grades","status":"passed","title":"should retrieve class grades"}]},{"numFailingTests":0,"numPassingTests":12,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180082464,"runtime":4780,"slow":false,"start":1764180077684},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\auth.simple.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Simple Auth Tests","Health Check"],"duration":38,"failureMessages":[],"fullName":"Simple Auth Tests Health Check should return health status","status":"passed","title":"should return health status"},{"ancestorTitles":["Simple Auth Tests","User Registration"],"duration":566,"failureMessages":[],"fullName":"Simple Auth Tests User Registration should register a parent user successfully (pending approval when no school)","status":"passed","title":"should register a parent user successfully (pending approval when no school)"},{"ancestorTitles":["Simple Auth Tests","User Registration"],"duration":531,"failureMessages":[],"fullName":"Simple Auth Tests User Registration should register a teacher (pending approval when no school)","status":"passed","title":"should register a teacher (pending approval when no school)"},{"ancestorTitles":["Simple Auth Tests","User Registration"],"duration":507,"failureMessages":[],"fullName":"Simple Auth Tests User Registration should register a student (pending approval when no school)","status":"passed","title":"should register a student (pending approval when no school)"},{"ancestorTitles":["Simple Auth Tests","User Registration"],"duration":567,"failureMessages":[],"fullName":"Simple Auth Tests User Registration should register a director with school (auto-approved)","status":"passed","title":"should register a director with school (auto-approved)"},{"ancestorTitles":["Simple Auth Tests","Login Tests"],"duration":1028,"failureMessages":[],"fullName":"Simple Auth Tests Login Tests should login approved user successfully","status":"passed","title":"should login approved user successfully"},{"ancestorTitles":["Simple Auth Tests","Login Tests"],"duration":481,"failureMessages":[],"fullName":"Simple Auth Tests Login Tests should reject login for pending user","status":"passed","title":"should reject login for pending user"},{"ancestorTitles":["Simple Auth Tests","Admin Setup Test"],"duration":41,"failureMessages":[],"fullName":"Simple Auth Tests Admin Setup Test should create first admin successfully","status":"passed","title":"should create first admin successfully"},{"ancestorTitles":["Simple Auth Tests","Error Cases"],"duration":27,"failureMessages":[],"fullName":"Simple Auth Tests Error Cases should validate required fields","status":"passed","title":"should validate required fields"},{"ancestorTitles":["Simple Auth Tests","Error Cases"],"duration":30,"failureMessages":[],"fullName":"Simple Auth Tests Error Cases should prevent duplicate email registration","status":"passed","title":"should prevent duplicate email registration"},{"ancestorTitles":["Simple Auth Tests","API Status Endpoints"],"duration":31,"failureMessages":[],"fullName":"Simple Auth Tests API Status Endpoints should return API status","status":"passed","title":"should return API status"},{"ancestorTitles":["Simple Auth Tests","API Status Endpoints"],"duration":27,"failureMessages":[],"fullName":"Simple Auth Tests API Status Endpoints should return education system info","status":"passed","title":"should return education system info"}]},{"numFailingTests":0,"numPassingTests":10,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180085202,"runtime":2719,"slow":false,"start":1764180082483},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\minimal-grades.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":904,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create Admin User for Authentication","status":"passed","title":"Create Admin User for Authentication"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":43,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create School","status":"passed","title":"Create School"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":20,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create Class","status":"passed","title":"Create Class"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":439,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create Teacher","status":"passed","title":"Create Teacher"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":11,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create Student","status":"passed","title":"Create Student"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":17,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests Create Subject","status":"passed","title":"Create Subject"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":100,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests POST /api/v1/grades - Create Grade","status":"passed","title":"POST /api/v1/grades - Create Grade"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":59,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests GET /api/v1/grades/:id - Fetch Grade","status":"passed","title":"GET /api/v1/grades/:id - Fetch Grade"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":45,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests PATCH /api/v1/grades/:id - Update Grade","status":"passed","title":"PATCH /api/v1/grades/:id - Update Grade"},{"ancestorTitles":["ðŸ“˜ Minimal Grades API Tests"],"duration":130,"failureMessages":[],"fullName":"ðŸ“˜ Minimal Grades API Tests GET /api/v1/grades - List all grades","status":"passed","title":"GET /api/v1/grades - List all grades"}]},{"numFailingTests":0,"numPassingTests":11,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180087679,"runtime":2466,"slow":false,"start":1764180085213},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\classes.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Class API Tests","POST /api/v1/classes"],"duration":64,"failureMessages":[],"fullName":"Class API Tests POST /api/v1/classes should create a new class with valid data","status":"passed","title":"should create a new class with valid data"},{"ancestorTitles":["Class API Tests","POST /api/v1/classes"],"duration":61,"failureMessages":[],"fullName":"Class API Tests POST /api/v1/classes should fail with invalid level","status":"passed","title":"should fail with invalid level"},{"ancestorTitles":["Class API Tests","POST /api/v1/classes"],"duration":33,"failureMessages":[],"fullName":"Class API Tests POST /api/v1/classes should require authentication","status":"passed","title":"should require authentication"},{"ancestorTitles":["Class API Tests","GET /api/v1/classes"],"duration":60,"failureMessages":[],"fullName":"Class API Tests GET /api/v1/classes should get all classes","status":"passed","title":"should get all classes"},{"ancestorTitles":["Class API Tests","GET /api/v1/classes"],"duration":97,"failureMessages":[],"fullName":"Class API Tests GET /api/v1/classes should get class by ID","status":"passed","title":"should get class by ID"},{"ancestorTitles":["Class API Tests","GET /api/v1/classes"],"duration":29,"failureMessages":[],"fullName":"Class API Tests GET /api/v1/classes should return 404 for non-existent class","status":"passed","title":"should return 404 for non-existent class"},{"ancestorTitles":["Class API Tests","PATCH /api/v1/classes/:id"],"duration":97,"failureMessages":[],"fullName":"Class API Tests PATCH /api/v1/classes/:id should update class information","status":"passed","title":"should update class information"},{"ancestorTitles":["Class API Tests","PATCH /api/v1/classes/:id"],"duration":102,"failureMessages":[],"fullName":"Class API Tests PATCH /api/v1/classes/:id should not update with invalid level","status":"passed","title":"should not update with invalid level"},{"ancestorTitles":["Class API Tests","Class Relationships"],"duration":81,"failureMessages":[],"fullName":"Class API Tests Class Relationships should get class students (empty initially)","status":"passed","title":"should get class students (empty initially)"},{"ancestorTitles":["Class API Tests","Authorization"],"duration":2,"failureMessages":[],"fullName":"Class API Tests Authorization should prevent teachers from creating classes","status":"passed","title":"should prevent teachers from creating classes"},{"ancestorTitles":["Class API Tests","Authorization"],"duration":3,"failureMessages":[],"fullName":"Class API Tests Authorization should allow teachers to view classes","status":"passed","title":"should allow teachers to view classes"}]},{"numFailingTests":0,"numPassingTests":3,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180089957,"runtime":2267,"slow":false,"start":1764180087690},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\dashboard-simple.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Dashboard Simple Tests"],"duration":1211,"failureMessages":[],"fullName":"Dashboard Simple Tests Should create director and get dashboard stats","status":"passed","title":"Should create director and get dashboard stats"},{"ancestorTitles":["Dashboard Simple Tests"],"duration":26,"failureMessages":[],"fullName":"Dashboard Simple Tests Should handle unauthenticated requests","status":"passed","title":"Should handle unauthenticated requests"},{"ancestorTitles":["Dashboard Simple Tests"],"duration":18,"failureMessages":[],"fullName":"Dashboard Simple Tests Should test dashboard health","status":"passed","title":"Should test dashboard health"}]},{"numFailingTests":0,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180094942,"runtime":4978,"slow":false,"start":1764180089964},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\dashboard.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Dashboard API Tests","Basic Dashboard Tests"],"duration":66,"failureMessages":[],"fullName":"Dashboard API Tests Basic Dashboard Tests Health check should work without authentication","status":"passed","title":"Health check should work without authentication"},{"ancestorTitles":["Dashboard API Tests","Basic Dashboard Tests"],"duration":49,"failureMessages":[],"fullName":"Dashboard API Tests Basic Dashboard Tests Dashboard should require authentication","status":"passed","title":"Dashboard should require authentication"},{"ancestorTitles":["Dashboard API Tests","Dashboard Statistics - With Real Users"],"duration":9,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Statistics - With Real Users GET /api/v1/dashboard/stats - Director should get school statistics","status":"passed","title":"GET /api/v1/dashboard/stats - Director should get school statistics"},{"ancestorTitles":["Dashboard API Tests","Dashboard Statistics - With Real Users"],"duration":9,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Statistics - With Real Users GET /api/v1/dashboard/activity - Director should get recent activities","status":"passed","title":"GET /api/v1/dashboard/activity - Director should get recent activities"},{"ancestorTitles":["Dashboard API Tests","Dashboard Statistics - With Real Users"],"duration":9,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Statistics - With Real Users GET /api/v1/dashboard/events - Should return upcoming events","status":"passed","title":"GET /api/v1/dashboard/events - Should return upcoming events"},{"ancestorTitles":["Dashboard API Tests","Dashboard Statistics - With Real Users"],"duration":9,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Statistics - With Real Users GET /api/v1/dashboard/quick-actions - Director should get appropriate actions","status":"passed","title":"GET /api/v1/dashboard/quick-actions - Director should get appropriate actions"},{"ancestorTitles":["Dashboard API Tests","Dashboard Statistics - With Real Users"],"duration":7,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Statistics - With Real Users GET /api/v1/dashboard/me - Should return complete dashboard data","status":"passed","title":"GET /api/v1/dashboard/me - Should return complete dashboard data"},{"ancestorTitles":["Dashboard API Tests","Role-Based Dashboard Access"],"duration":1185,"failureMessages":[],"fullName":"Dashboard API Tests Role-Based Dashboard Access GET /api/v1/dashboard/stats - teacher should get appropriate statistics","status":"passed","title":"GET /api/v1/dashboard/stats - teacher should get appropriate statistics"},{"ancestorTitles":["Dashboard API Tests","Role-Based Dashboard Access"],"duration":1150,"failureMessages":[],"fullName":"Dashboard API Tests Role-Based Dashboard Access GET /api/v1/dashboard/stats - student should get appropriate statistics","status":"passed","title":"GET /api/v1/dashboard/stats - student should get appropriate statistics"},{"ancestorTitles":["Dashboard API Tests","Role-Based Dashboard Access"],"duration":1206,"failureMessages":[],"fullName":"Dashboard API Tests Role-Based Dashboard Access GET /api/v1/dashboard/stats - parent should get appropriate statistics","status":"passed","title":"GET /api/v1/dashboard/stats - parent should get appropriate statistics"},{"ancestorTitles":["Dashboard API Tests","Dashboard Error Handling"],"duration":41,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Error Handling Should handle invalid tokens","status":"passed","title":"Should handle invalid tokens"},{"ancestorTitles":["Dashboard API Tests","Dashboard Error Handling"],"duration":33,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Error Handling Should handle missing authorization header","status":"passed","title":"Should handle missing authorization header"},{"ancestorTitles":["Dashboard API Tests","Dashboard Performance"],"duration":50,"failureMessages":[],"fullName":"Dashboard API Tests Dashboard Performance Dashboard endpoints should respond quickly when authenticated","status":"passed","title":"Dashboard endpoints should respond quickly when authenticated"}]},{"numFailingTests":0,"numPassingTests":3,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180095998,"runtime":1039,"slow":false,"start":1764180094959},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\health.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Health Check Endpoints"],"duration":54,"failureMessages":[],"fullName":"Health Check Endpoints should return API health status","status":"passed","title":"should return API health status"},{"ancestorTitles":["Health Check Endpoints"],"duration":36,"failureMessages":[],"fullName":"Health Check Endpoints should return welcome message on root","status":"passed","title":"should return welcome message on root"},{"ancestorTitles":["Health Check Endpoints"],"duration":24,"failureMessages":[],"fullName":"Health Check Endpoints should handle 404 for unknown routes","status":"passed","title":"should handle 404 for unknown routes"}]},{"numFailingTests":0,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1764180096313,"runtime":306,"slow":false,"start":1764180096007},"testFilePath":"C:\\Users\\felix\\novabulletin\\backend\\tests\\simple.test.js","failureMessage":null,"testResults":[{"ancestorTitles":[],"duration":2,"failureMessages":[],"fullName":"simple addition","status":"passed","title":"simple addition"},{"ancestorTitles":[],"duration":2,"failureMessages":[],"fullName":"simple object","status":"passed","title":"simple object"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":["src/**/*.js","!src/app.js","!src/server.js"],"coverageDirectory":"C:\\Users\\felix\\novabulletin\\backend\\coverage","coverageProvider":"babel","coverageReporters":["text","lcov","html"],"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"globalTeardown":"C:\\Users\\felix\\novabulletin\\backend\\tests\\teardown.js","json":false,"lastCommit":false,"listTests":false,"logHeapUsage":true,"maxConcurrency":5,"maxWorkers":1,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\Users\\felix\\novabulletin\\backend\\node_modules\\.pnpm\\jest-html-reporters@3.1.7\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./test-report","filename":"report.html","expand":true}]],"rootDir":"C:\\Users\\felix\\novabulletin\\backend","runTestsByPath":false,"seed":-1958096581,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"","testSequencer":"C:\\Users\\felix\\novabulletin\\backend\\node_modules\\.pnpm\\@jest+test-sequencer@29.7.0\\node_modules\\@jest\\test-sequencer\\build\\index.js","testTimeout":30000,"updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1764180096320,"_reporterOptions":{"publicPath":"./test-report","filename":"report.html","expand":true,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})